---
# Source: chart/templates/pdb.yaml
apiVersion: policy/v1beta1
kind: PodDisruptionBudget
metadata:
  name: pdb-api-auth
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
spec:
  minAvailable: 50%
  selector:
    matchLabels:
      app.kubernetes.io/name: xpto-beta-api-auth
      app.kubernetes.io/instance: RELEASE-NAME
---
# Source: chart/templates/pdb.yaml
apiVersion: policy/v1beta1
kind: PodDisruptionBudget
metadata:
  name: pdb-api-auth-sms
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
spec:
  minAvailable: 50%
  selector:
    matchLabels:
      app.kubernetes.io/name: xpto-beta-api-auth-sms
      app.kubernetes.io/instance: RELEASE-NAME
---
# Source: chart/templates/pdb.yaml
apiVersion: policy/v1beta1
kind: PodDisruptionBudget
metadata:
  name: pdb-api-chip
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
spec:
  minAvailable: 50%
  selector:
    matchLabels:
      app.kubernetes.io/name: xpto-beta-api-chip
      app.kubernetes.io/instance: RELEASE-NAME
---
# Source: chart/templates/pdb.yaml
apiVersion: policy/v1beta1
kind: PodDisruptionBudget
metadata:
  name: pdb-api-historic
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
spec:
  minAvailable: 50%
  selector:
    matchLabels:
      app.kubernetes.io/name: xpto-beta-api-historic
      app.kubernetes.io/instance: RELEASE-NAME
---
# Source: chart/templates/pdb.yaml
apiVersion: policy/v1beta1
kind: PodDisruptionBudget
metadata:
  name: pdb-api-portability
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
spec:
  minAvailable: 50%
  selector:
    matchLabels:
      app.kubernetes.io/name: xpto-beta-api-portability
      app.kubernetes.io/instance: RELEASE-NAME
---
# Source: chart/templates/pdb.yaml
apiVersion: policy/v1beta1
kind: PodDisruptionBudget
metadata:
  name: pdb-api-recarga
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
spec:
  minAvailable: 50%
  selector:
    matchLabels:
      app.kubernetes.io/name: xpto-beta-api-recarga
      app.kubernetes.io/instance: RELEASE-NAME
---
# Source: chart/templates/pdb.yaml
apiVersion: policy/v1beta1
kind: PodDisruptionBudget
metadata:
  name: pdb-api-user
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
spec:
  minAvailable: 50%
  selector:
    matchLabels:
      app.kubernetes.io/name: xpto-beta-api-user
      app.kubernetes.io/instance: RELEASE-NAME
---
# Source: chart/templates/common.yaml
apiVersion: v1
kind: ServiceAccount
metadata:
  name: xpto-registry
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
imagePullSecrets:
- name: image-pull-secret
---
# Source: chart/templates/env_secret.yaml
apiVersion: v1
kind: Secret
metadata:
  name: env-secret-api-auth
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
type: Opaque
data:
  PASS: MTIz
---
# Source: chart/templates/env_secret.yaml
apiVersion: v1
kind: Secret
metadata:
  name: env-secret-api-auth-sms
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
type: Opaque
data:
  PASS: MTIz
---
# Source: chart/templates/env_secret.yaml
apiVersion: v1
kind: Secret
metadata:
  name: env-secret-api-chip
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
type: Opaque
data:
  PASS: MTIz
---
# Source: chart/templates/env_secret.yaml
apiVersion: v1
kind: Secret
metadata:
  name: env-secret-api-historic
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
type: Opaque
data:
  PASS: MTIz
---
# Source: chart/templates/env_secret.yaml
apiVersion: v1
kind: Secret
metadata:
  name: env-secret-api-portability
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
type: Opaque
data:
  PASS: MTIz
---
# Source: chart/templates/env_secret.yaml
apiVersion: v1
kind: Secret
metadata:
  name: env-secret-api-recarga
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
type: Opaque
data:
  PASS: MTIz
---
# Source: chart/templates/env_secret.yaml
apiVersion: v1
kind: Secret
metadata:
  name: env-secret-api-user
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
type: Opaque
data:
  PASS: MTIz
---
# Source: chart/templates/common.yaml
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: env-configmap-shared
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
data:
  AWS_XRAY_DAEMON_ADDRESS: "xray-service.amazon-cloudwatch:2000"
  PORT: "3000"
  TZ: "America/Sao_Paulo"
---
# Source: chart/templates/env_configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: env-configmap-api-auth
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
data:
  AMBIENTE: "DEV"
---
# Source: chart/templates/env_configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: env-configmap-api-auth-sms
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
data:
  AMBIENTE: "DEV"
---
# Source: chart/templates/env_configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: env-configmap-api-chip
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
data:
  AMBIENTE: "DEV"
---
# Source: chart/templates/env_configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: env-configmap-api-historic
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
data:
  AMBIENTE: "DEV"
---
# Source: chart/templates/env_configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: env-configmap-api-portability
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
data:
  AMBIENTE: "DEV"
---
# Source: chart/templates/env_configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: env-configmap-api-recarga
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
data:
  AMBIENTE: "DEV"
---
# Source: chart/templates/env_configmap.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: env-configmap-api-user
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
data:
  AMBIENTE: "DEV"
---
# Source: chart/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: xpto-beta-api-auth
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
    app.kubernetes.io/name: xpto-beta-api-auth
    app.kubernetes.io/instance: RELEASE-NAME
spec:
  type: ClusterIP
  ports:
  - port: 80
    targetPort: http
    protocol: TCP
    name: http
  selector:
    app.kubernetes.io/name: xpto-beta-api-auth
    app.kubernetes.io/instance: RELEASE-NAME
---
# Source: chart/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: xpto-beta-api-auth-sms
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
    app.kubernetes.io/name: xpto-beta-api-auth-sms
    app.kubernetes.io/instance: RELEASE-NAME
spec:
  type: ClusterIP
  ports:
  - port: 80
    targetPort: http
    protocol: TCP
    name: http
  selector:
    app.kubernetes.io/name: xpto-beta-api-auth-sms
    app.kubernetes.io/instance: RELEASE-NAME
---
# Source: chart/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: xpto-beta-api-chip
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
    app.kubernetes.io/name: xpto-beta-api-chip
    app.kubernetes.io/instance: RELEASE-NAME
spec:
  type: ClusterIP
  ports:
  - port: 80
    targetPort: http
    protocol: TCP
    name: http
  selector:
    app.kubernetes.io/name: xpto-beta-api-chip
    app.kubernetes.io/instance: RELEASE-NAME
---
# Source: chart/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: xpto-beta-api-historic
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
    app.kubernetes.io/name: xpto-beta-api-historic
    app.kubernetes.io/instance: RELEASE-NAME
spec:
  type: ClusterIP
  ports:
  - port: 80
    targetPort: http
    protocol: TCP
    name: http
  selector:
    app.kubernetes.io/name: xpto-beta-api-historic
    app.kubernetes.io/instance: RELEASE-NAME
---
# Source: chart/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: xpto-beta-api-portability
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
    app.kubernetes.io/name: xpto-beta-api-portability
    app.kubernetes.io/instance: RELEASE-NAME
spec:
  type: ClusterIP
  ports:
  - port: 80
    targetPort: http
    protocol: TCP
    name: http
  selector:
    app.kubernetes.io/name: xpto-beta-api-portability
    app.kubernetes.io/instance: RELEASE-NAME
---
# Source: chart/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: xpto-beta-api-recarga
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
    app.kubernetes.io/name: xpto-beta-api-recarga
    app.kubernetes.io/instance: RELEASE-NAME
spec:
  type: ClusterIP
  ports:
  - port: 80
    targetPort: http
    protocol: TCP
    name: http
  selector:
    app.kubernetes.io/name: xpto-beta-api-recarga
    app.kubernetes.io/instance: RELEASE-NAME
---
# Source: chart/templates/service.yaml
apiVersion: v1
kind: Service
metadata:
  name: xpto-beta-api-user
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
    app.kubernetes.io/name: xpto-beta-api-user
    app.kubernetes.io/instance: RELEASE-NAME
spec:
  type: ClusterIP
  ports:
  - port: 80
    targetPort: http
    protocol: TCP
    name: http
  selector:
    app.kubernetes.io/name: xpto-beta-api-user
    app.kubernetes.io/instance: RELEASE-NAME
---
# Source: chart/templates/deployment.yaml
---




apiVersion: apps/v1
kind: Deployment
metadata:
  name: xpto-beta-api-auth
  namespace: valida
  annotations:
    reloader.stakater.com/auto: "true"
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
    app.kubernetes.io/name: xpto-beta-api-auth
    app.kubernetes.io/instance: RELEASE-NAME
spec:
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxUnavailable: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: xpto-beta-api-auth
      app.kubernetes.io/instance: RELEASE-NAME
  template:
    metadata:
      annotations:
      labels:
        app.kubernetes.io/name: xpto-beta-api-auth
        app.kubernetes.io/instance: RELEASE-NAME
    spec:
      serviceAccountName: xpto-registry
      containers:
      - name: xpto-beta-api-auth
        image: "registry.xpto.com/xpto/beta/api/auth:1.0.0-rc.1"
        imagePullPolicy: Always
        securityContext:
          allowPrivilegeEscalation: false
          capabilities:
            drop:
            - ALL
          privileged: false
          readOnlyRootFilesystem: true
          runAsNonRoot: true
          runAsUser: 1000
        resources:
          limits:
            cpu: 100m
            memory: 252Mi
          requests:
            cpu: 100m
            memory: 252Mi
        envFrom:
        - configMapRef:
            name: env-configmap-shared
        - configMapRef:
            name: env-configmap-api-auth
        - secretRef:
            name: env-secret-api-auth
        readinessProbe:
          httpGet:
            httpHeaders:
            - name: Host
              value: readinessProbe
            - name: Content-Type
              value: application/json
            path: /v1/health
            port: http
          initialDelaySeconds: 5
          periodSeconds: 3
          failureThreshold: 3
          timeoutSeconds: 10
        ports:
        - name: http
          containerPort: 3000
          protocol: TCP
---
# Source: chart/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: xpto-beta-api-auth-sms
  namespace: valida
  annotations:
    reloader.stakater.com/auto: "true"
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
    app.kubernetes.io/name: xpto-beta-api-auth-sms
    app.kubernetes.io/instance: RELEASE-NAME
spec:
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxUnavailable: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: xpto-beta-api-auth-sms
      app.kubernetes.io/instance: RELEASE-NAME
  template:
    metadata:
      annotations:
      labels:
        app.kubernetes.io/name: xpto-beta-api-auth-sms
        app.kubernetes.io/instance: RELEASE-NAME
    spec:
      serviceAccountName: xpto-registry
      containers:
      - name: xpto-beta-api-auth-sms
        image: "registry.xpto.com/xpto/beta/api/auth-sms:1.0.0-rc.1"
        imagePullPolicy: Always
        securityContext:
          allowPrivilegeEscalation: false
          capabilities:
            drop:
            - ALL
          privileged: false
          readOnlyRootFilesystem: true
          runAsNonRoot: true
          runAsUser: 1000
        resources:
          limits:
            cpu: 100m
            memory: 252Mi
          requests:
            cpu: 100m
            memory: 252Mi
        envFrom:
        - configMapRef:
            name: env-configmap-shared
        - configMapRef:
            name: env-configmap-api-auth-sms
        - secretRef:
            name: env-secret-api-auth-sms
        readinessProbe:
          httpGet:
            httpHeaders:
            - name: Host
              value: readinessProbe
            - name: Content-Type
              value: application/json
            path: /v1/health
            port: http
          initialDelaySeconds: 5
          periodSeconds: 3
          failureThreshold: 3
          timeoutSeconds: 10
        ports:
        - name: http
          containerPort: 3000
          protocol: TCP
---
# Source: chart/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: xpto-beta-api-chip
  namespace: valida
  annotations:
    reloader.stakater.com/auto: "true"
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
    app.kubernetes.io/name: xpto-beta-api-chip
    app.kubernetes.io/instance: RELEASE-NAME
spec:
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxUnavailable: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: xpto-beta-api-chip
      app.kubernetes.io/instance: RELEASE-NAME
  template:
    metadata:
      annotations:
      labels:
        app.kubernetes.io/name: xpto-beta-api-chip
        app.kubernetes.io/instance: RELEASE-NAME
    spec:
      serviceAccountName: xpto-registry
      containers:
      - name: xpto-beta-api-chip
        image: "registry.xpto.com/xpto/beta/api/chip:1.0.0-rc.1"
        imagePullPolicy: Always
        securityContext:
          allowPrivilegeEscalation: false
          capabilities:
            drop:
            - ALL
          privileged: false
          readOnlyRootFilesystem: true
          runAsNonRoot: true
          runAsUser: 1000
        resources:
          limits:
            cpu: 100m
            memory: 252Mi
          requests:
            cpu: 100m
            memory: 252Mi
        envFrom:
        - configMapRef:
            name: env-configmap-shared
        - configMapRef:
            name: env-configmap-api-chip
        - secretRef:
            name: env-secret-api-chip
        readinessProbe:
          httpGet:
            httpHeaders:
            - name: Host
              value: readinessProbe
            - name: Content-Type
              value: application/json
            path: /v1/health
            port: http
          initialDelaySeconds: 5
          periodSeconds: 3
          failureThreshold: 3
          timeoutSeconds: 10
        ports:
        - name: http
          containerPort: 3000
          protocol: TCP
---
# Source: chart/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: xpto-beta-api-historic
  namespace: valida
  annotations:
    reloader.stakater.com/auto: "true"
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
    app.kubernetes.io/name: xpto-beta-api-historic
    app.kubernetes.io/instance: RELEASE-NAME
spec:
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxUnavailable: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: xpto-beta-api-historic
      app.kubernetes.io/instance: RELEASE-NAME
  template:
    metadata:
      annotations:
      labels:
        app.kubernetes.io/name: xpto-beta-api-historic
        app.kubernetes.io/instance: RELEASE-NAME
    spec:
      serviceAccountName: xpto-registry
      containers:
      - name: xpto-beta-api-historic
        image: "registry.xpto.com/xpto/beta/api/historic:1.0.0-rc.1"
        imagePullPolicy: Always
        securityContext:
          allowPrivilegeEscalation: false
          capabilities:
            drop:
            - ALL
          privileged: false
          readOnlyRootFilesystem: true
          runAsNonRoot: true
          runAsUser: 1000
        resources:
          limits:
            cpu: 100m
            memory: 252Mi
          requests:
            cpu: 100m
            memory: 252Mi
        envFrom:
        - configMapRef:
            name: env-configmap-shared
        - configMapRef:
            name: env-configmap-api-historic
        - secretRef:
            name: env-secret-api-historic
        readinessProbe:
          httpGet:
            httpHeaders:
            - name: Host
              value: readinessProbe
            - name: Content-Type
              value: application/json
            path: /v1/health
            port: http
          initialDelaySeconds: 5
          periodSeconds: 3
          failureThreshold: 3
          timeoutSeconds: 10
        ports:
        - name: http
          containerPort: 3000
          protocol: TCP
---
# Source: chart/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: xpto-beta-api-portability
  namespace: valida
  annotations:
    reloader.stakater.com/auto: "true"
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
    app.kubernetes.io/name: xpto-beta-api-portability
    app.kubernetes.io/instance: RELEASE-NAME
spec:
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxUnavailable: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: xpto-beta-api-portability
      app.kubernetes.io/instance: RELEASE-NAME
  template:
    metadata:
      annotations:
      labels:
        app.kubernetes.io/name: xpto-beta-api-portability
        app.kubernetes.io/instance: RELEASE-NAME
    spec:
      serviceAccountName: xpto-registry
      containers:
      - name: xpto-beta-api-portability
        image: "registry.xpto.com/xpto/beta/api/portability:1.0.0-rc.1"
        imagePullPolicy: Always
        securityContext:
          allowPrivilegeEscalation: false
          capabilities:
            drop:
            - ALL
          privileged: false
          readOnlyRootFilesystem: true
          runAsNonRoot: true
          runAsUser: 1000
        resources:
          limits:
            cpu: 100m
            memory: 252Mi
          requests:
            cpu: 100m
            memory: 252Mi
        envFrom:
        - configMapRef:
            name: env-configmap-shared
        - configMapRef:
            name: env-configmap-api-portability
        - secretRef:
            name: env-secret-api-portability
        readinessProbe:
          httpGet:
            httpHeaders:
            - name: Host
              value: readinessProbe
            - name: Content-Type
              value: application/json
            path: /v1/health
            port: http
          initialDelaySeconds: 5
          periodSeconds: 3
          failureThreshold: 3
          timeoutSeconds: 10
        ports:
        - name: http
          containerPort: 3000
          protocol: TCP
---
# Source: chart/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: xpto-beta-api-recarga
  namespace: valida
  annotations:
    reloader.stakater.com/auto: "true"
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
    app.kubernetes.io/name: xpto-beta-api-recarga
    app.kubernetes.io/instance: RELEASE-NAME
spec:
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxUnavailable: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: xpto-beta-api-recarga
      app.kubernetes.io/instance: RELEASE-NAME
  template:
    metadata:
      annotations:
      labels:
        app.kubernetes.io/name: xpto-beta-api-recarga
        app.kubernetes.io/instance: RELEASE-NAME
    spec:
      serviceAccountName: xpto-registry
      containers:
      - name: xpto-beta-api-recarga
        image: "registry.xpto.com/xpto/beta/api/recarga:1.0.0-rc.1"
        imagePullPolicy: Always
        securityContext:
          allowPrivilegeEscalation: false
          capabilities:
            drop:
            - ALL
          privileged: false
          readOnlyRootFilesystem: true
          runAsNonRoot: true
          runAsUser: 1000
        resources:
          limits:
            cpu: 100m
            memory: 252Mi
          requests:
            cpu: 100m
            memory: 252Mi
        envFrom:
        - configMapRef:
            name: env-configmap-shared
        - configMapRef:
            name: env-configmap-api-recarga
        - secretRef:
            name: env-secret-api-recarga
        readinessProbe:
          httpGet:
            httpHeaders:
            - name: Host
              value: readinessProbe
            - name: Content-Type
              value: application/json
            path: /v1/health
            port: http
          initialDelaySeconds: 5
          periodSeconds: 3
          failureThreshold: 3
          timeoutSeconds: 10
        ports:
        - name: http
          containerPort: 3000
          protocol: TCP
---
# Source: chart/templates/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: xpto-beta-api-user
  namespace: valida
  annotations:
    reloader.stakater.com/auto: "true"
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
    app.kubernetes.io/name: xpto-beta-api-user
    app.kubernetes.io/instance: RELEASE-NAME
spec:
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxUnavailable: 1
  selector:
    matchLabels:
      app.kubernetes.io/name: xpto-beta-api-user
      app.kubernetes.io/instance: RELEASE-NAME
  template:
    metadata:
      annotations:
      labels:
        app.kubernetes.io/name: xpto-beta-api-user
        app.kubernetes.io/instance: RELEASE-NAME
    spec:
      serviceAccountName: xpto-registry
      containers:
      - name: xpto-beta-api-user
        image: "registry.xpto.com/xpto/beta/api/user:1.0.0-rc.1"
        imagePullPolicy: Always
        securityContext:
          allowPrivilegeEscalation: false
          capabilities:
            drop:
            - ALL
          privileged: false
          readOnlyRootFilesystem: true
          runAsNonRoot: true
          runAsUser: 1000
        resources:
          limits:
            cpu: 100m
            memory: 252Mi
          requests:
            cpu: 100m
            memory: 252Mi
        envFrom:
        - configMapRef:
            name: env-configmap-shared
        - configMapRef:
            name: env-configmap-api-user
        - secretRef:
            name: env-secret-api-user
        readinessProbe:
          httpGet:
            httpHeaders:
            - name: Host
              value: readinessProbe
            - name: Content-Type
              value: application/json
            path: /v1/health
            port: http
          initialDelaySeconds: 5
          periodSeconds: 3
          failureThreshold: 3
          timeoutSeconds: 10
        ports:
        - name: http
          containerPort: 3000
          protocol: TCP
---
# Source: chart/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: xpto-beta-api-auth
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: xpto-beta-api-auth
  minReplicas: 3
  maxReplicas: 10
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 80
  - type: Resource
    resource:
      name: memory
      target:
        type: Utilization
        averageUtilization: 80
---
# Source: chart/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: xpto-beta-api-auth-sms
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: xpto-beta-api-auth-sms
  minReplicas: 3
  maxReplicas: 10
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 80
  - type: Resource
    resource:
      name: memory
      target:
        type: Utilization
        averageUtilization: 80
---
# Source: chart/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: xpto-beta-api-chip
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: xpto-beta-api-chip
  minReplicas: 3
  maxReplicas: 10
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 80
  - type: Resource
    resource:
      name: memory
      target:
        type: Utilization
        averageUtilization: 80
---
# Source: chart/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: xpto-beta-api-historic
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: xpto-beta-api-historic
  minReplicas: 3
  maxReplicas: 10
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 80
  - type: Resource
    resource:
      name: memory
      target:
        type: Utilization
        averageUtilization: 80
---
# Source: chart/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: xpto-beta-api-portability
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: xpto-beta-api-portability
  minReplicas: 3
  maxReplicas: 10
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 80
  - type: Resource
    resource:
      name: memory
      target:
        type: Utilization
        averageUtilization: 80
---
# Source: chart/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: xpto-beta-api-recarga
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: xpto-beta-api-recarga
  minReplicas: 3
  maxReplicas: 10
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 80
  - type: Resource
    resource:
      name: memory
      target:
        type: Utilization
        averageUtilization: 80
---
# Source: chart/templates/hpa.yaml
apiVersion: autoscaling/v2beta2
kind: HorizontalPodAutoscaler
metadata:
  name: xpto-beta-api-user
  namespace: valida
  labels:
    helm.sh/chart: chart-0.0.1
    app.kubernetes.io/version: "1.16.0"
    app.kubernetes.io/managed-by: Helm
    environment: develop
    owner: team-xpto
    product: xpto
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: xpto-beta-api-user
  minReplicas: 3
  maxReplicas: 10
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 80
  - type: Resource
    resource:
      name: memory
      target:
        type: Utilization
        averageUtilization: 80
